<!DOCTYPE html><html lang="pl"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>ALMID - Menedżer Dokumentów v3</title><style>*{margin:0;padding:0;box-sizing:border-box}:root{--primary:#667eea;--secondary:#764ba2;--success:#51cf66;--danger:#ff6b6b;--warning:#ffc107;--info:#3498db;--light:#ecf0f1;--dark:#2c3e50}body{font-family:'Segoe UI',Roboto,sans-serif;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:var(--dark);min-height:100vh;padding:20px}header{background:#fff;box-shadow:0 4px 15px rgba(0,0,0,0.1);padding:25px;border-radius:12px;margin-bottom:30px;text-align:center}header h1{color:var(--primary);margin-bottom:5px;font-size:2em}header p{color:#666;font-size:0.95em}.container{max-width:1400px;margin:0 auto}.tabs{display:flex;gap:10px;margin-bottom:25px;flex-wrap:wrap;background:#fff;padding:15px;border-radius:12px;box-shadow:0 2px 8px rgba(0,0,0,0.08)}.tab-btn{padding:12px 20px;background:transparent;border:2px solid var(--light);border-radius:8px;cursor:pointer;font-weight:600;transition:all 0.3s;color:var(--dark)}.tab-btn:hover{background:var(--light)}.tab-btn.active{background:var(--primary);color:#fff;border-color:var(--primary)}.tab-content{display:none;background:#fff;padding:25px;border-radius:12px;box-shadow:0 2px 10px rgba(0,0,0,0.1)}.tab-content.active{display:block}.tab-content h2{color:var(--primary);margin-bottom:20px;border-bottom:3px solid var(--primary);padding-bottom:10px}.form-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:15px;margin-bottom:20px}.form-group{margin-bottom:12px}.form-group label{display:block;margin-bottom:6px;font-weight:600;color:var(--dark);font-size:0.9em}.form-group input,.form-group select,.form-group textarea{width:100%;padding:10px;border:2px solid var(--light);border-radius:6px;font-size:14px;transition:border 0.3s;font-family:inherit}.form-group input:focus,.form-group select:focus,.form-group textarea:focus{outline:0;border-color:var(--primary);box-shadow:0 0 0 3px rgba(102,126,234,0.1)}.btn{padding:10px 20px;background:var(--primary);color:#fff;border:0;border-radius:6px;cursor:pointer;font-weight:600;transition:all 0.3s;font-size:14px;text-transform:uppercase}.btn:hover{background:var(--secondary);transform:translateY(-2px);box-shadow:0 4px 12px rgba(0,0,0,0.15)}.btn-small{padding:6px 12px;font-size:12px}.btn-danger{background:var(--danger)}.btn-danger:hover{background:#ee5a52}.btn-success{background:var(--success)}.btn-success:hover{background:#40c057}.btn-info{background:var(--info)}.btn-info:hover{background:#2980b9}.search-box{display:grid;grid-template-columns:1fr auto auto;gap:10px;margin-bottom:20px;align-items:end}@media(max-width:768px){.search-box{grid-template-columns:1fr}}.item-card{background:linear-gradient(135deg,#f8f9fa 0%,#fff 100%);padding:15px;margin-bottom:12px;border-left:4px solid var(--primary);border-radius:8px;box-shadow:0 2px 5px rgba(0,0,0,0.05);transition:all 0.3s}.item-card:hover{transform:translateY(-2px);box-shadow:0 4px 12px rgba(0,0,0,0.1)}.item-header{display:flex;justify-content:space-between;align-items:start;margin-bottom:8px}.item-title{font-weight:700;color:var(--primary);word-break:break-word}.item-meta{font-size:12px;color:#999;margin:5px 0}.item-actions{display:flex;gap:5px;flex-wrap:wrap;margin-top:10px}.modal{display:none;position:fixed;z-index:1000;left:0;top:0;width:100%;height:100%;background:rgba(0,0,0,0.6);align-items:center;justify-content:center}.modal.active{display:flex}.modal-content{background:#fff;padding:30px;border-radius:12px;width:90%;max-width:600px;max-height:80vh;overflow-y:auto}.modal-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;border-bottom:2px solid var(--primary);padding-bottom:15px}.modal-header h3{color:var(--primary);margin:0}.modal-close{background:0;border:0;font-size:24px;cursor:pointer;color:var(--dark)}.modal-close:hover{color:var(--danger)}.table-responsive{overflow-x:auto;margin-top:15px}table{width:100%;border-collapse:collapse}table thead{background:var(--primary);color:#fff}table th,table td{padding:12px;text-align:left;border-bottom:1px solid var(--light)}table tbody tr:hover{background:var(--light)}.stats-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:15px;margin-bottom:25px}.stat-card{background:linear-gradient(135deg,var(--primary),var(--secondary));color:#fff;padding:20px;border-radius:8px;text-align:center;box-shadow:0 4px 10px rgba(0,0,0,0.2)}.stat-number{font-size:2.5em;font-weight:700;margin:10px 0}.stat-label{font-size:0.9em;opacity:0.9}.empty-state{text-align:center;padding:40px 20px;color:#999}.alert{padding:12px 15px;margin-bottom:15px;border-radius:6px;border-left:4px solid}.alert-success{border-color:var(--success);background:rgba(81,207,102,0.1);color:var(--success)}.alert-error{border-color:var(--danger);background:rgba(255,107,107,0.1);color:var(--danger)}</style></head><body><header><h1>ALMID - Menedżer Dokumentów</h1><p>System zarządzania dokumentami, flotą i pracownikami</p></header><div class="container"><div class="stats-grid" id="statsGrid"></div><div class="tabs"><button class="tab-btn active" onclick="switchTab(this, 'documents')">Dokumenty</button><button class="tab-btn" onclick="switchTab(this, 'employees')">Pracownicy</button><button class="tab-btn" onclick="switchTab(this, 'vehicles')">Flota</button><button class="tab-btn" onclick="switchTab(this, 'invoices')">Faktury</button><button class="tab-btn" onclick="switchTab(this, 'admin')">Admin</button></div><div id="documents" class="tab-content active"><h2>Dokumenty</h2><div class="search-box"><input type="text" id="docSearch" placeholder="Szukaj dokumentu..." oninput="filterDocs()"><select id="docTypeFilter" onchange="filterDocs()"><option value="">Wszystkie typy</option><option>Faktury</option><option>Umowy</option><option>Raporty</option><option>Ubezpieczenie</option><option>Inne</option></select><button class="btn btn-small" onclick="exportDocs()">Pobierz</button></div><div class="form-grid"><div class="form-group"><label>Nazwa dokumentu</label><input type="text" id="docName" placeholder="Wpisz nazwę"></div><div class="form-group"><label>Typ dokumentu</label><select id="docTypeSelect"><option>Faktury</option><option>Umowy</option><option>Raporty</option><option>Ubezpieczenie</option><option>Inne</option></select></div><div class="form-group"><label>Data dokumentu</label><input type="date" id="docDate"></div><div class="form-group"><label>Opis/Zawartość</label><textarea id="docDesc" placeholder="Wpisz zawartość lub opis dokumentu" rows="3"></textarea></div></div><button class="btn" onclick="addDoc()">DODAJ DOKUMENT</button><div id="docsList"></div></div><div id="employees" class="tab-content"><h2>Pracownicy</h2><div class="form-grid"><div class="form-group"><label>Imię i nazwisko</label><input type="text" id="empName" placeholder="Jan Kowalski"></div><div class="form-group"><label>Stanowisko</label><input type="text" id="empPos" placeholder="Kierowca"></div><div class="form-group"><label>Email</label><input type="email" id="empEmail" placeholder="email@almid.pl"></div><div class="form-group"><label>Telefon</label><input type="tel" id="empPhone" placeholder="600123456"></div><div class="form-group"><label>Data zatrudnienia</label><input type="date" id="empDate"></div></div><button class="btn" onclick="addEmp()">DODAJ PRACOWNIKA</button><div class="table-responsive"><table><thead><tr><th>Imię i nazwisko</th><th>Stanowisko</th><th>Email</th><th>Telefon</th><th>Data</th><th>Akcje</th></tr></thead><tbody id="empList"></tbody></table></div></div><div id="vehicles" class="tab-content"><h2>Flota</h2><div class="form-grid"><div class="form-group"><label>Marka</label><input type="text" id="vehMake" placeholder="Volvo"></div><div class="form-group"><label>Model</label><input type="text" id="vehModel" placeholder="FH16"></div><div class="form-group"><label>Numer rejestracji</label><input type="text" id="vehReg" placeholder="WB 12345"></div><div class="form-group"><label>Numer VIN</label><input type="text" id="vehVin" placeholder="VIN..."></div><div class="form-group"><label>Przebieg (km)</label><input type="number" id="vehMileage" placeholder="0"></div></div><button class="btn" onclick="addVeh()">DODAJ POJAZD</button><div class="table-responsive"><table><thead><tr><th>Marka</th><th>Model</th><th>Rej.</th><th>VIN</th><th>Przebieg</th><th>Akcje</th></tr></thead><tbody id="vehList"></tbody></table></div></div><div id="invoices" class="tab-content"><h2>Faktury</h2><div class="form-grid"><div class="form-group"><label>Numer faktury</label><input type="text" id="invNum" placeholder="FV/2025/001"></div><div class="form-group"><label>Data wystawienia</label><input type="date" id="invDate"></div><div class="form-group"><label>Klient</label><input type="text" id="invClient" placeholder="ABC Sp. z o.o."></div><div class="form-group"><label>Kwota netto (PLN)</label><input type="number" id="invAmount" step="0.01" placeholder="1000.00"></div><div class="form-group"><label>Opis</label><textarea id="invDesc" placeholder="Opis usług" rows="2"></textarea></div></div><button class="btn" onclick="addInv()">DODAJ FAKTURĘ</button><div class="table-responsive"><table><thead><tr><th>Numer</th><th>Data</th><th>Klient</th><th>Kwota (PLN)</th><th>Akcje</th></tr></thead><tbody id="invList"></tbody></table></div></div><div id="admin" class="tab-content"><h2>Administracja</h2><p>Dane przechowywane są w pamięci przeglądarki (localStorage). Brak synchronizacji z serwerem.</p><div id="adminStats"></div><button class="btn btn-success" onclick="exportData()">Pobierz kopię zapasową (JSON)</button><button class="btn btn-danger" onclick="clearData()">Wyczyść wszystkie dane</button></div></div><div id="docModal" class="modal"><div class="modal-content"><div class="modal-header"><h3>Podgląd dokumentu</h3><button class="modal-close" onclick="closeModal()">&times;</button></div><div id="modalBody"></div></div></div><script>let data = {docs:[],emps:[],vehs:[],invs:[]};function init(){const stored = localStorage.getItem('almidData');if(stored)data=JSON.parse(stored);refresh();}function save(){localStorage.setItem('almidData',JSON.stringify(data));updateStats();}function switchTab(btn,tabName){const tabs=document.querySelectorAll('.tab-btn');const contents=document.querySelectorAll('.tab-content');tabs.forEach(t=>t.classList.remove('active'));contents.forEach(c=>c.classList.remove('active'));btn.classList.add('active');document.getElementById(tabName).classList.add('active');}function addDoc(){const name=document.getElementById('docName').value.trim();const type=document.getElementById('docTypeSelect').value;const date=document.getElementById('docDate').value;const desc=document.getElementById('docDesc').value.trim();if(!name){alert('Wpisz nazwę dokumentu');return;}const doc={id:Date.now(),name,type,date,desc};data.docs.push(doc);save();clearDocForm();refreshDocs();}function clearDocForm(){document.getElementById('docName').value='';document.getElementById('docTypeSelect').value='Faktury';document.getElementById('docDate').value='';document.getElementById('docDesc').value='';}function deleteDoc(id){if(confirm('Usunąć dokument?')){data.docs=data.docs.filter(d=>d.id!==id);save();refreshDocs();}}function filterDocs(){const search=document.getElementById('docSearch').value.toLowerCase();const typeFilter=document.getElementById('docTypeFilter').value;const filtered=data.docs.filter(d=>(d.name.toLowerCase().includes(search))&&(!typeFilter||d.type===typeFilter));renderDocs(filtered);}function refreshDocs(){renderDocs(data.docs);}function renderDocs(docs){const list=document.getElementById('docsList');if(docs.length===0){list.innerHTML='<div class="empty-state">Brak dokumentów</div>';return;}list.innerHTML=docs.map(doc=>`<div class="item-card"><div class="item-header"><div class="item-title">${doc.name}</div></div><div class="item-meta"><strong>Typ:</strong> ${doc.type}</div><div class="item-meta"><strong>Data:</strong> ${doc.date||'brak'}</div><div class="item-meta" style="margin-top:8px;">${doc.desc}</div><div class="item-actions"><button class="btn btn-small btn-info" onclick="viewDoc(${doc.id})">Podgląd</button><button class="btn btn-small btn-danger" onclick="deleteDoc(${doc.id})">Usuń</button></div></div>`).join('');}function viewDoc(id){const doc=data.docs.find(d=>d.id===id);if(!doc)return;const modal=document.getElementById('docModal');const body=document.getElementById('modalBody');body.innerHTML=`<h4>${doc.name}</h4><p><strong>Typ:</strong> ${doc.type}</p><p><strong>Data:</strong> ${doc.date||'brak'}</p><p><strong>Opis/Zawartość:</strong></p><p>${doc.desc}</p>`;modal.classList.add('active');}function closeModal(){document.getElementById('docModal').classList.remove('active');}function addEmp(){const name=document.getElementById('empName').value.trim();const pos=document.getElementById('empPos').value.trim();const email=document.getElementById('empEmail').value.trim();const phone=document.getElementById('empPhone').value.trim();const date=document.getElementById('empDate').value;if(!name||!pos){alert('Wpisz nazwisko i stanowisko');return;}const emp={id:Date.now(),name,pos,email,phone,date};data.emps.push(emp);save();document.getElementById('empName').value='';document.getElementById('empPos').value='';document.getElementById('empEmail').value='';document.getElementById('empPhone').value='';document.getElementById('empDate').value='';refreshEmps();}function deleteEmp(id){if(confirm('Usunąć pracownika?')){data.emps=data.emps.filter(e=>e.id!==id);save();refreshEmps();}}function refreshEmps(){const list=document.getElementById('empList');if(data.emps.length===0){list.innerHTML='<tr><td colspan="6" style="text-align:center;color:#999;">Brak pracowników</td></tr>';return;}list.innerHTML=data.emps.map(e=>`<tr><td>${e.name}</td><td>${e.pos}</td><td>${e.email}</td><td>${e.phone}</td><td>${e.date||'brak'}</td><td><button class="btn btn-small btn-danger" onclick="deleteEmp(${e.id})">Usuń</button></td></tr>`).join('');}function addVeh(){const make=document.getElementById('vehMake').value.trim();const model=document.getElementById('vehModel').value.trim();const reg=document.getElementById('vehReg').value.trim();const vin=document.getElementById('vehVin').value.trim();const mileage=document.getElementById('vehMileage').value;if(!make||!model){alert('Wpisz markę i model');return;}const veh={id:Date.now(),make,model,reg,vin,mileage:parseInt(mileage)||0};data.vehs.push(veh);save();document.getElementById('vehMake').value='';document.getElementById('vehModel').value='';document.getElementById('vehReg').value='';document.getElementById('vehVin').value='';document.getElementById('vehMileage').value='';refreshVehs();}function deleteVeh(id){if(confirm('Usunąć pojazd?')){data.vehs=data.vehs.filter(v=>v.id!==id);save();refreshVehs();}}function refreshVehs(){const list=document.getElementById('vehList');if(data.vehs.length===0){list.innerHTML='<tr><td colspan="6" style="text-align:center;color:#999;">Brak pojazdów</td></tr>';return;}list.innerHTML=data.vehs.map(v=>`<tr><td>${v.make}</td><td>${v.model}</td><td>${v.reg}</td><td>${v.vin}</td><td>${v.mileage}</td><td><button class="btn btn-small btn-danger" onclick="deleteVeh(${v.id})">Usuń</button></td></tr>`).join('');}function addInv(){const num=document.getElementById('invNum').value.trim();const date=document.getElementById('invDate').value;const client=document.getElementById('invClient').value.trim();const amount=parseFloat(document.getElementById('invAmount').value)||0;const desc=document.getElementById('invDesc').value.trim();if(!num||!client){alert('Wpisz numer faktury i klienta');return;}const inv={id:Date.now(),num,date,client,amount,desc};data.invs.push(inv);save();document.getElementById('invNum').value='';document.getElementById('invDate').value='';document.getElementById('invClient').value='';document.getElementById('invAmount').value='';document.getElementById('invDesc').value='';refreshInvs();}function deleteInv(id){if(confirm('Usunąć fakturę?')){data.invs=data.invs.filter(i=>i.id!==id);save();refreshInvs();}}function refreshInvs(){const list=document.getElementById('invList');if(data.invs.length===0){list.innerHTML='<tr><td colspan="5" style="text-align:center;color:#999;">Brak faktur</td></tr>';return;}list.innerHTML=data.invs.map(i=>`<tr><td>${i.num}</td><td>${i.date||'brak'}</td><td>${i.client}</td><td>${i.amount.toFixed(2)}</td><td><button class="btn btn-small btn-danger" onclick="deleteInv(${i.id})">Usuń</button></td></tr>`).join('');}function updateStats(){const statsGrid=document.getElementById('statsGrid');const adminStats=document.getElementById('adminStats');const totalDocs=data.docs.length;const totalEmps=data.emps.length;const totalVehs=data.vehs.length;const totalInvs=data.invs.length;const totalAmount=data.invs.reduce((sum,i)=>sum+i.amount,0);statsGrid.innerHTML=`<div class="stat-card"><div class="stat-number">${totalDocs}</div><div class="stat-label">Dokumenty</div></div><div class="stat-card"><div class="stat-number">${totalEmps}</div><div class="stat-label">Pracownicy</div></div><div class="stat-card"><div class="stat-number">${totalVehs}</div><div class="stat-label">Pojazdy</div></div><div class="stat-card"><div class="stat-number">${totalInvs}</div><div class="stat-label">Faktury</div></div>`;adminStats.innerHTML=`<p><strong>Dokumenty:</strong> ${totalDocs}</p><p><strong>Pracownicy:</strong> ${totalEmps}</p><p><strong>Pojazdy:</strong> ${totalVehs}</p><p><strong>Faktury:</strong> ${totalInvs}</p><p><strong>Razem faktury (PLN):</strong> ${totalAmount.toFixed(2)}</p><p style="margin-top:15px;color:#999;font-size:0.9em;">Ostatnia aktualizacja: ${new Date().toLocaleString('pl-PL')}</p>`;}function exportData(){const json=JSON.stringify(data,null,2);const blob=new Blob([json],{type:'application/json'});const url=URL.createObjectURL(blob);const a=document.createElement('a');a.href=url;a.download='almid_backup_'+new Date().getTime()+'.json';a.click();URL.revokeObjectURL(url);}function exportDocs(){const json=JSON.stringify(data.docs,null,2);const blob=new Blob([json],{type:'application/json'});const url=URL.createObjectURL(blob);const a=document.createElement('a');a.href=url;a.download='dokumenty_'+new Date().getTime()+'.json';a.click();URL.revokeObjectURL(url);}function clearData(){if(!confirm('Naprawdę? To usunie WSZYSTKIE dane!')){return;}data={docs:[],emps:[],vehs:[],invs:[]};localStorage.removeItem('almidData');refresh();alert('Dane usunięte.');}function refresh(){refreshDocs();refreshEmps();refreshVehs();refreshInvs();updateStats();}init();</script></body></html>
